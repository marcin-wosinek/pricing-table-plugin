# Pricing Table Plugin

A modern WordPress block plugin for creating pricing tables, built with the latest WordPress development standards.

## Project Structure

```
pricing-table-plugin/
├── block.json            # Block configuration
├── plugin.php            # Main plugin file
├── src/
│   ├── index.js          # Block source code (JSX/React)
│   └── style.scss        # Block styles (SCSS)
├── build/                # Auto-generated by @wordpress/scripts
│   ├── index.js          # Compiled JavaScript bundle
│   ├── index.asset.php   # Auto-generated dependencies & version
│   ├── style-index.css   # Compiled CSS
│   └── style-index-rtl.css # RTL CSS
├── tests/
│   ├── helpers/          # Modular test helpers
│   │   ├── wordpress-login.js
│   │   └── block-editor.js
│   └── pricing-table-block.spec.js  # E2E tests
├── package.json          # ES6 module configuration
└── playwright.config.js  # Test configuration
```

## Technologies & Standards

- **WordPress Block API v3** - Latest block development standard
- **@wordpress/scripts** - Official WordPress build tooling
- **ES6 modules** - Modern JavaScript throughout
- **JSX & React** - Component-based block development
- **SCSS** - Advanced CSS preprocessing
- **Playwright** - Modern e2e testing framework
- **Automatic asset management** - WordPress handles dependencies

## Current State

- **Block functionality:** Basic placeholder showing "Pricing Table"
- **Internationalization:** Uses `__()` function for translations
- **Build system:** Fully integrated with WordPress ecosystem
- **Testing:** Modular e2e tests with helper functions
- **Development:** Hot reloading with `npm start`

## Development

### Build Process

The block source code is in `src/` and gets built to `build/` using `@wordpress/scripts`.

**Available scripts:**
- `npm run build` - Production build
- `npm start` - Development with hot reloading
- `npm run lint:js` - JavaScript linting
- `npm run lint:css` - CSS linting
- `npm run format` - Code formatting
- `npm test` - Run e2e tests
- `npm run test:ui` - Run tests with UI
- `npm run test:debug` - Debug tests

### Local Development

Use Docker Compose for local development:

```bash
docker compose up
```

This spins up:
- **localhost:8080** - WordPress site
- **localhost:8081** - phpMyAdmin

### Setup Instructions

1. **Install dependencies:**
   ```bash
   cd pricing-table-plugin
   npm install
   ```

2. **Build the block:**
   ```bash
   npm run build
   ```

3. **Start development server:**
   ```bash
   npm start
   ```

4. **Run tests:**
   ```bash
   npm test
   ```

## Key Features

- **Clean PHP:** Minimal plugin file with automatic asset loading
- **Modern JavaScript:** JSX, ES6 imports, proper WordPress hooks
- **Auto-dependencies:** Generated from imports (react-jsx-runtime, wp-block-editor, wp-blocks, wp-i18n)
- **Modular tests:** Reusable helper functions for WordPress/block editor interactions
- **Production ready:** Optimized builds with cache busting
- **RTL support:** Automatic right-to-left CSS generation

## Installation

### Using The WordPress Dashboard

1. Navigate to the 'Add New' Plugin Dashboard.
2. Select `pricing-table-plugin.zip` from your computer.
3. Upload.
4. Activate the plugin on the WordPress Plugin Dashboard.

### Using lTP

1. Extract `pricing-table-plugin.zip` to your computer.
2. Upload the `pricing-table-plugin` directory to your `wp-content/plugins` directory.
3. Activate the plugin on the WordPress Plugins Dashboard.

### Git

1. Navigate to the `plugins` directory of your WordPress installation.
2. From the terminal, run `$ git clone git@github.com:marcin-wosinek/pricing-table-plugin.git`

## Credits

Started form Tom McFarlin's work at
https://github.com/tommcfarlin/pricing-table-plugin.
